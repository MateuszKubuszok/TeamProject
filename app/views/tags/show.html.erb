<p>
  <b>Name:</b>
  <%= params[:id] %>
</p>

<p>
  <b>Projects:</b>
</p>
<table>
  <tr>
    <th>Name</th>
    <th>Short description</th>
    <th>Tags</th>
    <th></th>
    <th></th>
  </tr>

  <% @projects.each do |project| %>
  <tr>
    <td><%= allowed_to_see?(project) ? link_to(project.name, project_path(project.url_name)) : project.name %></td>
    <td><%= project.short_description %></td>
    <td><% project.tags.each do |tag| %>
      <%= link_to tag.name, tag_path(tag.name) %>
    <% end %></td>
    <td><% if meet_requirements?(:manage_projects) || meet_team_requirements?({any: [:manage_project, :manage_team ]}, project) %>
       <%= link_to 'Edit', edit_project_path(project.url_name) %>
    <% end %></td>
    <td><% if meet_requirements?(:manage_projects) || meet_team_requirements?(:manage_project, project) %>
      <%= link_to 'Destroy', project_path(project.url_name), confirm: 'Are you sure?', method: :delete %>
    <% end %></td>
    </tr>
  <% end %>
</table>

<br />

<%= paginate @projects, params: { action: 'show', controller: 'tags' } %>
<%= link_to 'Back', tags_path %>
